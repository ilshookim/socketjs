const socket = require('../lib/socket');

const cSocket = socket.socket(socket.AF_INET, socket.SOCK_RAW, socket.IPPROTO_TCP);

const addr = {sin_family: 2, sin_port: 8889, sin_addr: 0xc0a81f58};


const res = cSocket.setsockopt(socket.IPPROTO_IP, socket.IP_HDRINCL, 1);

console.log(res);

const bf = new Uint8Array([
  0x45,0xc0,0x28,0x00,
  0x35,0x2d,0x00,0x00,
  0x40,0x01,0x85,0x2a,
  0xc0,0xa8,0x1f,0x58,
  0xc0,0xa8,0x1f,0x58,
  0x03,0x03,0xbc,0xc4,
  0x00,0x00,0x00,0x00,
  0x45,0x00,0x20,0x00,
  0xd2,0x20,0x00,0x00,
  0x40,0x11,0xe9,0x02,
  0xc0,0xa8,0x1f,0x58,
  0xc0,0xa8,0x1f,0x01,
  0xc7,0x84,0x00,0xc0,
  0x00,0x0c,0x64,0xd6,
  0x10,0x01,0x03,0x10,
  0x00,0x00,0x00,0x00,
  0x00,0x00,0x00,0x00,
  0x00,0x00,0x00,0x00,
  0x00,0x00,0x00,0x00,
  0x00,0x00,0x00
])

const len = cSocket.sendto({address:'192.168.31.88', port: 8888}, bf);
console.log(len);

